
@{
    ViewBag.Title = "Sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@model List<COF.BusinessLogic.Models.Product.ProductByCategoryModel>
<section class="content-header">
    <h1>
        Danh sách sản phẩm
        
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> </a></li>
        <li><a href="#">Tables</a></li>
        <li class="active">Simple</li>
    </ol>
</section>

<section class="content">
    <!-- /.row -->
    <div class="row">
        <div class="col-xs-12">
            <div class="box">
               
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="box-body table-responsive">
                        <div>
                            <button class="btn btn-success">Thêm sản phẩm</button>
                            <br />
                            <br />
                        </div>
                        <table class="table table-bordered">
                            <tbody>
                                @{
                                    foreach (var category in Model)
                                    {
                                        <tr>
                                            <td colspan="4" style="background-color:beige"><b>@category.Name.ToUpper()</b>  - @category.Products.Count sản phẩm </td>
                                        </tr>
                                        <tr>
                                            <th>Tên</th>
                                            <th>Size</th>
                                            <th>Giá tiền</th>
                                            <th></th>
                                        </tr>
                                        {
                                            foreach (var product in category.Products)
                                            {
                                                {
                                                    var sizes = product.Sizes.Count();
                                                    if (sizes > 0)
                                                    {
                                                        for (int i = 0; i < product.Sizes.Count; i++)
                                                        {
                                                            var size = product.Sizes[i];
                                                            <tr>
                                                                @if (i == 0)
                                                                {
                                                                    <td rowspan="@sizes" style="text-align:center">@product.Name.ToUpper()</td>
                                                                }
                                                                <td>@size.Size</td>
                                                                <td>@size.Cost</td>
                                                                <td>
                                                                    <button class="btn btn-primary"><i class="fa fa-edit"></i></button>
                                                                    <button class="btn btn-danger"><i class="fa fa-remove"></i></button>
                                                                </td>
                                                            </tr>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            
                                                            <td style="text-align:center">@product.Name.ToUpper()</td>
                                                            
                                                            <td></td>
                                                            <td></td>
                                                            <td>
                                                                <button class="btn btn-primary"><i class="fa fa-edit"></i></button>
                                                                <button class="btn btn-danger"><i class="fa fa-remove"></i></button>
                                                            </td>
                                                        </tr>
                                                    }



                                                }

                                            }
                                        }

                                    }
                                }

                            </tbody>
                            </table>

                    </div>

                </div>
                <!-- ./box-body -->
        
            </div>
          

        </div>
    </div>
</section>